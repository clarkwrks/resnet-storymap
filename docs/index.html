<!DOCTYPE html>
<html><head>
	<meta name="generator" content="Hugo 0.92.2" />

    <title>StoryMap Demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">

    
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="../css/storymap.2.5.css">

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    
    <script src="../js/maki-markers/Leaflet.MakiMarkers.js"></script>

	
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300" rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
		
    
    <script src="../js/lib/htmlwidgets-1.5.3/htmlwidgets.js"></script>
    <script src="../js/lib/plotly-binding-4.9.2.1/plotly.js"></script>
    <script src="../js/lib/typedarray-0.1/typedarray.min.js"></script>
    <link href="../js/lib/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
    <script src="../js/lib/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
    <link href="../js/lib/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="../js/lib/plotly-main-1.52.2/plotly-latest.min.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../js/awesome-markers/leaflet.awesome-markers.css">
    <script src="../js/awesome-markers/leaflet.awesome-markers.js"></script>

	
    <script src="../js/storymap.2.5.js"></script>

    
    <script src="../js/lib/leaflet-side-by-side/leaflet-side-by-side.js"></script>

    
    <link href="../css/custom.css" rel="stylesheet">

    <link href="../css/monteregie.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">

    
    <script src="../js/map-story.js"></script>

    <script src="../js/split_map.js"></script>


    
      
      <script src="../js/main_map.js"></script>
      
    
      
      <script src="../js/radar.js"></script>
      
    
      
      <script src="../js/main_map.js"></script>
      
    
      
    
      
      <script src="../js/main_map.js"></script>
      
    
      
      <script src="../js/main_map.js"></script>
      
    
      
      <script src="../js/main_map.js"></script>
      
    
      
      <script src="../js/main_map.js"></script>
      
    
      
    
      
      <script src="../js/monteregie_map.js"></script>
      
    
      
      <script src="../js/main_map.js"></script>
      
    
      
      <script src="../js/projects.js"></script>
      
    

</head><body>




	

	

	
	
	

	
	
	

	
	
	

	
	
	

	
	
	

	

	
	
	

	
	
	

	
	
	

	
	
	

	
	
	

	
	
	

	
	
	

	

	
	
	

	
	
	



<nav id="main-navbar" class="navbar navbar-expand-lg fixed-top navbar-light bg-navbar storymap-navbar">
	<div class="container-fluid">
		<a class="navbar-brand" href="#">
			<i class="fa fa-home" style="padding-right:10px;"></i>
			StoryMap Demo
		</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
			  
		
			<li class="nav-item dropdown nav-Overview" section-name="Overview">
				<a class="nav-link dropdown-toggle ml-auto" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Overview
				</a>
				<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'title_splash\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Title
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'storymap_overview\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Components
						</a></li>
					
					
				</ul>
			</li>
		
			<li class="nav-item dropdown nav-Story" section-name="Story">
				<a class="nav-link dropdown-toggle ml-auto" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Story
				</a>
				<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'story_elements\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Elements
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'story_formatting\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Formatting
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'story_splash\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Fullscreen
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'story_slide\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Sliding
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'overview\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Navigation
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'story_figures_plotly\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Figures
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'accordion\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Accordion
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'carousel\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Carousel
						</a></li>
					
					
				</ul>
			</li>
		
			<li class="nav-item dropdown nav-Map" section-name="Map">
				<a class="nav-link dropdown-toggle ml-auto" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Map
				</a>
				<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'map_elements\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Elements
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'vector_popup\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Vector
						</a></li>
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'leaflet_sidebyside\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Compare
						</a></li>
					
					
				</ul>
			</li>
		
			<li class="nav-item dropdown nav-Conclusion" section-name="Conclusion">
				<a class="nav-link dropdown-toggle ml-auto" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Conclusion
				</a>
				<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
					
						<li><a class="dropdown-item" href="javascript:window.scrollBy(0, $('section[data-scene=\'status\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">
							Status
						</a></li>
					
					
				</ul>
			</li>
		
			</ul>
		</div>
	</div>
</nav><div id="storymap" class="container-fluid">
	    <div class="row">
	        <div class="col-sm-6 col-md-8 storymap-map"></div>
	        <div class="col-sm-6 col-md-4 storymap-story"><input type="hidden" id="language" value="en">


  <input type="hidden" class="layers" layer-id="carto_darkmatter" layer-name="carto_darkmatter" base-layer="true" layer-src="https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="carto_darkmatter" opt-name="zIndex" opt-value="1">
   
    <input type="hidden" class="layer-options" layer="carto_darkmatter" opt-name="zoomControl" opt-value="false">
  
  

  <input type="hidden" class="layers" layer-id="carto_positron" layer-name="carto_positron" base-layer="true" layer-src="https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="carto_positron" opt-name="zIndex" opt-value="1">
   
    <input type="hidden" class="layer-options" layer="carto_positron" opt-name="zoomControl" opt-value="false">
  
  

  <input type="hidden" class="layers" layer-id="carto_voyager" layer-name="carto_voyager" base-layer="true" layer-src="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="carto_voyager" opt-name="zIndex" opt-value="1">
   
    <input type="hidden" class="layer-options" layer="carto_voyager" opt-name="zoomControl" opt-value="false">
  
  

  <input type="hidden" class="layers" layer-id="es_svg" layer-name="es_types_fig" base-layer="false" layer-src="" layer-type="L.svgOverlay">
   
    <input type="hidden" class="layer-options" layer="es_types_fig" opt-name="className" opt-value="spider">
   
    <input type="hidden" class="layer-options" layer="es_types_fig" opt-name="weight&#34;" opt-value="10">
   
    <input type="hidden" class="layer-options" layer="es_types_fig" opt-name="zIndex" opt-value="100">
  
  

  <input type="hidden" class="layers" layer-id="esri_imagery" layer-name="esri_imagery" base-layer="true" layer-src="http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="esri_imagery" opt-name="zIndex" opt-value="1">
   
    <input type="hidden" class="layer-options" layer="esri_imagery" opt-name="zoomControl" opt-value="false">
  
  

  <input type="hidden" class="layers" layer-id="esri_topo" layer-name="esri_topo" base-layer="true" layer-src="https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="esri_topo" opt-name="zIndex" opt-value="1">
   
    <input type="hidden" class="layer-options" layer="esri_topo" opt-name="zoomControl" opt-value="false">
  
  

  <input type="hidden" class="layers" layer-id="google_satellite" layer-name="google_satellite" base-layer="true" layer-src="https://mt0.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="google_satellite" opt-name="zIndex" opt-value="1">
   
    <input type="hidden" class="layer-options" layer="google_satellite" opt-name="zoomControl" opt-value="false">
  
  

  <input type="hidden" class="layers" layer-id="monteregie_layerse" layer-name="" base-layer="" layer-src=%!q(<nil>) layer-type="">
  
  

  <input type="hidden" class="layers" layer-id="monteregie_municipalities" layer-name="monteregie_municipalities" base-layer="false" layer-src="https://cartodb.ecoconnect.net/user/resnet-admin/api/v2/sql?q=SELECT the_geom, mus_nm_mun FROM munic_shp_clean_1&api_key=_mn4R8PisfU7Y-3lBWmHMw&format=geojson" layer-type="L.geoJson.ajax">
   
    <input type="hidden" class="layer-options" layer="monteregie_municipalities" opt-name="opacity" opt-value="0.2">
   
    <input type="hidden" class="layer-options" layer="monteregie_municipalities" opt-name="weight" opt-value="3">
   
    <input type="hidden" class="layer-options" layer="monteregie_municipalities" opt-name="zIndex" opt-value="999">
  
  
    <input type="hidden" class="layer-style" layer="monteregie_municipalities" style-name="color" style-value="#99c63d">
  
    <input type="hidden" class="layer-style" layer="monteregie_municipalities" style-name="fillColor" style-value="#99c63d">
  
    <input type="hidden" class="layer-style" layer="monteregie_municipalities" style-name="fillOpacity" style-value="0.3">
  
    <input type="hidden" class="layer-style" layer="monteregie_municipalities" style-name="opacity" style-value="0.2">
  
    <input type="hidden" class="layer-style" layer="monteregie_municipalities" style-name="stroke" style-value="true">
  
    <input type="hidden" class="layer-style" layer="monteregie_municipalities" style-name="strokeOpacity" style-value="1">
  

  <input type="hidden" class="layers" layer-id="osm_mapnik" layer-name="osm_mapnik" base-layer="true" layer-src="https://tile.openstreetmap.org/{z}/{x}/{y}.png" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="osm_mapnik" opt-name="zIndex" opt-value="1">
   
    <input type="hidden" class="layer-options" layer="osm_mapnik" opt-name="zoomControl" opt-value="false">
  
  

  <input type="hidden" class="layers" layer-id="projects" layer-name="projects" base-layer="false" layer-src="" layer-type="L.tileLayer">
  
  

  <input type="hidden" class="layers" layer-id="stamen_bw" layer-name="stamen_bw" base-layer="false" layer-src="https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.png" layer-type="L.tileLayer">
   
    <input type="hidden" class="layer-options" layer="stamen_bw" opt-name="zIndex" opt-value="1">
  
  



    

    

    
        




<section class='title_splash splash-tint'  data-scene="title_splash" data-background="../img/montreal.jpeg" lat="" lng="" zoom="" layers="" init-js="">

<div class="fullscreen text-center">
    
        <h1 class="display-4 d-flex justify-content-center main-title">
            StoryMap Demo
        </h1>
    
    
        <span class="subtitle" class="d-flex justify-content-center">
            HQP Scaling Group
        </span>
    
    
</div>

</section>
    
    

    
        



<section class='storymap_overview left-content '  data-scene="storymap_overview" lat="45.6" lng="-73.2" zoom="10" layers="google_satellite" init-js="" leftmap="" rightmap="">
        
        
        
        
        
            <div><p>Storymap App</p>
<ul>
<li>Storymap.js (<a href="https://github.com/jakobzhao/storymap">https://github.com/jakobzhao/storymap</a>) = leaflet*javascript events</li>
<li>Extended by Guillaume LaRoque to use Hugo templating
<ul>
<li>See <a href="https://apps.nsercresnet.ca/story/monteregie/en/">https://apps.nsercresnet.ca/story/monteregie/en/</a></li>
</ul>
</li>
</ul>
<p>Three main components:</p>
<ul>
<li>Navbar</li>
<li>Story Container</li>
<li>Map Container</li>
</ul>
<p>Each story section or &lsquo;slide&rsquo; has an associated map scene. Once a user scrolls past the end of a story slide, the app advances to the next slide and scene.</p>
</div>
        
        
    <div></div>
    
</section>

    
    

    
        



<section class='story_elements left-content '  data-scene="story_elements" lat="45.6" lng="-73.2" zoom="10" layers="" init-js="" leftmap="" rightmap="">
        
            <h2>Story Elements</h2>
        
        
        
        
        
            <div><p>Story elements float above the map, and are a very flexible container for your content.</p>
<ul>
<li>Adjustable style
<ul>
<li>Location</li>
<li>Size</li>
<li>Color</li>
<li>Transparency</li>
</ul>
</li>
<li>Rich content
<ul>
<li><strong>Formmatted</strong> <code>text</code> <em>blocks</em></li>
<li>Links to external sites</li>
<li>Images</li>
<li>Interactive figures</li>
<li>Videos</li>
<li>Tables</li>
<li>Embedded objects</li>
</ul>
</li>
</ul>
</div>
        
        
    <div></div>
    
</section>

    
    

    
        



<section class='story_formatting left-content left-extrawide section-solid bg-black text-green'  data-scene="story_formatting" lat="45.6" lng="-73.2" zoom="10" layers="" init-js="" leftmap="" rightmap="">
        
        
        
        
        
            <div><h1 id="story-elements-can-be-very">Story elements can be very&hellip;</h1>
<h1 id="very">very</h1>
<h1 id="very-1">very</h1>
<h1 id="very-2">very</h1>
<h1 id="long-but-probably-shouldnt-be">&hellip;long (but probably shouldn&rsquo;t be)</h1>
</div>
        
        
    <div></div>
    
</section>

    
    

    
        




<section class='story_splash bg-black section-solid'  data-scene="story_splash" data-background="" lat="" lng="" zoom="" layers="" init-js="">

<div class="fullscreen text-center">
    
        <h1 class="display-4 d-flex justify-content-center main-title">
            Story Sections
        </h1>
    
    
        <span class="subtitle" class="d-flex justify-content-center">
            Can even obscure the map entirely
        </span>
    
    
</div>

</section>
    
    

    
        




<section class='story_splash_b '  data-scene="story_splash_b" data-background="" lat="45.6" lng="-73.2" zoom="10" layers="google_satellite" init-js="">

<div class="fullscreen text-center">
    
        <h1 class="display-4 d-flex justify-content-center main-title">
            Or Not
        </h1>
    
    
        <span class="subtitle" class="d-flex justify-content-center">
            and overlay the map
        </span>
    
    
</div>

</section>
    
    

    
        



<section class='story_slide left-content full-width '  data-scene="story_slide" lat="45.6" lng="-73.2" zoom="10" layers="google_satellite" init-js="">
        
        
        
        
        <div class = "card mx-auto">
        
            <div class = "card-body"><h1 id="or-a-little-bit-of-both">Or a little bit of both!</h1>
<h1 id="fullscreen-content-can-dynamically-scroll-just-like-smaller-content">Fullscreen content can dynamically scroll just like smaller content.</h1>
<h1 id="heading">.</h1>
<h1 id="heading-1">.</h1>
<h1 id="heading-2">.</h1>
<h1 id="heading-3">.</h1>
<h1 id="isnt-that-neat">&hellip;Isn&rsquo;t that neat?</h1>
</div>
        
        </div>
        
    <div></div>
    
</section>

    
    

    
        

<section class="overview" data-scene="overview" layers="google_satellite" class="full-html" data-background="" lat="45.6" lng="-73.3" zoom="6" init-js="Projects.init()">
    <div class="fullscreen">
     
      
     <div id="app" class="overview-container">
  <div class="overview-item project-carly" scene-name="story_splash">
    <h1>Story elements</h1>
    <span class="overview-author">Click to navigate</span>
  </div>
  <div class="overview-item project-matt" scene-name="story_splash">
  	<h1>Can also be</h1>
    <span class="overview-author">Click to navigate</span>
  </div>
  <div class="overview-item project-kyle" scene-name="story_splash">
	  <h1>Used for</h1>
    <span class="overview-author">Click to navigate</span>
  </div>
  <div class="overview-item project-dory" scene-name="story_splash">
	  <h1>Custom navigation</h1>
    <span class="overview-author">Click to navigate</span>
  </div>
</div>
   </div>
</section>
    
    

    
        



<section class='story_figures_plotly left-content left-wide'  data-scene="story_figures_plotly" lat="45.6" lng="-73.2" zoom="10" layers="" init-js="" leftmap="" rightmap="">
        
        
        
        
        
            <div><h2 id="figures">Figures</h2>
<p>In addition to static images and tables, interactive figures can be embedded.</p>
<p>Plotly provides a variety of dynamic and interactive figures. See the <a href="https://plotly.com/javascript/">Plotly Javascript Gallery</a> for examples.</p>
<p>Potential to link figures to the map (<code>crosstalk</code>)</p>
</div>
        
            <div id="graph"></div>
    <script>
        d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/gapminderDataFiveYear.csv', function (err, data) {
            
            
            var lookup = {};
            function getData(year, continent) {
              var byYear, trace;
              if (!(byYear = lookup[year])) {;
                byYear = lookup[year] = {};
              }
               
               
              if (!(trace = byYear[continent])) {
                trace = byYear[continent] = {
                  x: [],
                  y: [],
                  id: [],
                  text: [],
                  marker: {size: []}
                };
              }
              return trace;
            }
          
            
            for (var i = 0; i < data.length; i++) {
              var datum = data[i];
              var trace = getData(datum.year, datum.continent);
              trace.text.push(datum.country);
              trace.id.push(datum.country);
              trace.x.push(datum.lifeExp);
              trace.y.push(datum.gdpPercap);
              trace.marker.size.push(datum.pop);
            }
          
            
            var years = Object.keys(lookup);
            
            
            var firstYear = lookup[years[0]];
            var continents = Object.keys(firstYear);
          
            
            var traces = [];
            for (i = 0; i < continents.length; i++) {
              var data = firstYear[continents[i]];
               
               
               
               
               
              traces.push({
                name: continents[i],
                x: data.x.slice(),
                y: data.y.slice(),
                id: data.id.slice(),
                text: data.text.slice(),
                mode: 'markers',
                marker: {
                  size: data.marker.size.slice(),
                  sizemode: 'area',
                  sizeref: 200000
                }
              });
            }
          
            
            
            
            
            var frames = [];
            for (i = 0; i < years.length; i++) {
              frames.push({
                name: years[i],
                data: continents.map(function (continent) {
                  return getData(years[i], continent);
                })
              })
            }
          
            
            
            
            
            var sliderSteps = [];
            for (i = 0; i < years.length; i++) {
              sliderSteps.push({
                method: 'animate',
                label: years[i],
                args: [[years[i]], {
                  mode: 'immediate',
                  transition: {duration: 300},
                  frame: {duration: 300, redraw: false},
                }]
              });
            }
          
            var layout = {
              xaxis: {
                title: 'Life Expectancy',
                range: [30, 85]
              },
              yaxis: {
                title: 'GDP per Capita',
                type: 'log'
              },
              hovermode: 'closest',
               
               
               
               
               
               
               
              updatemenus: [{
                x: 0,
                y: 0,
                yanchor: 'top',
                xanchor: 'left',
                showactive: false,
                direction: 'left',
                type: 'buttons',
                pad: {t: 87, r: 10},
                buttons: [{
                  method: 'animate',
                  args: [null, {
                    mode: 'immediate',
                    fromcurrent: true,
                    transition: {duration: 300},
                    frame: {duration: 500, redraw: false}
                  }],
                  label: 'Play'
                }, {
                  method: 'animate',
                  args: [[null], {
                    mode: 'immediate',
                    transition: {duration: 0},
                    frame: {duration: 0, redraw: false}
                  }],
                  label: 'Pause'
                }]
              }],
               
               
              sliders: [{
                pad: {l: 130, t: 55},
                currentvalue: {
                  visible: true,
                  prefix: 'Year:',
                  xanchor: 'right',
                  font: {size: 20, color: '#666'}
                },
                steps: sliderSteps
              }]
            };
          
            
            Plotly.newPlot('graph', {
              data: traces,
              layout: layout,
              frames: frames,
            });
          });          
    </script>

    <div></div>
    
</section>

    
    

    
        




<section class='accordion left-content '  data-scene="accordion" lat="45.6" lng="-73.2" zoom="10" layers="" init-js="" leftmap="" rightmap="">
        
            <h2>Tester</h2>
        
        
        
        
        
            <div>Embed a BS5 accordion using MD from a section YAML.</div>
        
        
    <div></div>
	
		
		<div class="accordion" id="accordion-accord">
			
			
			
				 
					<div class="accordion-item">
						<h2 class="accordion-header" id='accordion-accord-header0'>
						<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target='#accordion-accord-collapse0' aria-expanded="true" aria-controls='accordion-accord-collapse0'>
							Panel 1 Header
						</button>
						</h2>
						<div id='accordion-accord-collapse0' class="accordion-collapse collapse show" aria-labelledby='accordion-accord-header0' data-bs-parent="#accordion-accord">
						<div class="accordion-body">
							
							
							Content of Panel 1
						</div>
						</div>
					</div>
				
			
			
			
				
					<div class="accordion-item">
						<h2 class="accordion-header" id='accordion-accord-header1'>
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target='#accordion-accord-collapse1' aria-expanded="false" aria-controls='accordion-accord-collapse1'>
							Panel 2 Header
						</button>
						</h2>
						<div id='accordion-accord-collapse1' class="accordion-collapse collapse" aria-labelledby='accordion-accord-header1' data-bs-parent="#accordion-accord">
						<div class="accordion-body">
							
							
							Content of Panel 2
						</div>
						</div>
					</div>
				
			
			
			
				
					<div class="accordion-item">
						<h2 class="accordion-header" id='accordion-accord-header2'>
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target='#accordion-accord-collapse2' aria-expanded="false" aria-controls='accordion-accord-collapse2'>
							Panel 3 Header
						</button>
						</h2>
						<div id='accordion-accord-collapse2' class="accordion-collapse collapse" aria-labelledby='accordion-accord-header2' data-bs-parent="#accordion-accord">
						<div class="accordion-body">
							
							
							Content of Panel 3
						</div>
						</div>
					</div>
				
			
		</div>
	
    
	
</section>



    
    

    
        




<section class='carousel left-content '  data-scene="carousel" lat="45.6" lng="-73.2" zoom="10" layers="" init-js="" leftmap="" rightmap="">
        
            <h2>Carousel</h2>
        
        
        
        
        
            <div>Embed a BS5 accordion using MD from a section YAML.</div>
        
        
    <div></div>
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="../img/carousel_test/1.jpg" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>First slide label</h5>
              <p>Some representative placeholder content for the first slide.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="../img/carousel_test/2.jpg" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Second slide label</h5>
              <p>Some representative placeholder content for the second slide.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="../img/carousel_test/3.jpg" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Third slide label</h5>
              <p>Some representative placeholder content for the second slide.</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    
	
</section>



            
        
    
    

    
        



<section class='map_elements left-content left-wide'  data-scene="map_elements" lat="45.6" lng="-73.2" zoom="10" layers="" init-js="" leftmap="" rightmap="">
        
            <h2>Map Elements</h2>
        
        
        
        
        
            <div><p>Map elements sit in the background of the app. float above the map, and are a very flexible container for your content.</p>
<ul>
<li>Data Layers
<ul>
<li>Basemaps</li>
<li>Vector</li>
<li>Raster</li>
</ul>
</li>
<li>Adjustable
<ul>
<li>Extent (center + zoom level)</li>
<li>Symbology and color scheme</li>
<li>Legends</li>
<li>UI Objects</li>
</ul>
</li>
<li>Interactions
<ul>
<li>Pan/zoom</li>
<li>Query raster value</li>
<li>View vector attributes</li>
</ul>
</li>
<li>Extensions
<ul>
<li>Layer chooser</li>
<li>Time series animation</li>
<li>Side by side comparison</li>
</ul>
</li>
</ul>
</div>
        
        
    <div></div>
    
</section>

    
    

    
        



<section class='vector_popup left-content '  data-scene="vector_popup" lat="45.6" lng="-73.8" zoom="9" layers="google_satellite,monteregie_municipalities" init-js="Monteregie_map.init()" leftmap="" rightmap="">
        
            <h2>Vector Data Polygon</h2>
        
        
        
            <img src="../img/1571255-10-ans-population-banlieues-auto.jpg" style="width:100%;padding-top:20px">
        
        
        
            <div><p>The borders, fill, and transparency of polygons can be adjusted.</p>
<p>Clicking a polygon opens a pop-up with attribute data.</p>
</div>
        
        
    <div></div>
    
</section>

    
    

    
        



<section class='vector_point left-content '  data-scene="vector_point" lat="45.4228" lng="-73.186" zoom="10" layers="google_satellite,kyle_map" init-js="Split_map.remove();Kyle_map.init();" leftmap="" rightmap="">
        
            <h2>Vector Data Point</h2>
        
        
        
            <img src="../img/Kyle5.jpeg" style="width:100%;padding-top:20px">
        
        
        
            <div><p>The marker symbol, color, and transparency of points can be adjusted.</p>
<p>Clicking a point can function the same way as with polygons.</p>
<p>Note the legend in the upper corner.</p>
</div>
        
        
    <div></div>
    
        <div class="attribution">Photo credits: Alex Tran</div>
    
</section>

    
    

    
        



<section class='leaflet_sidebyside left-content '  data-scene="leaflet_sidebyside" lat="45.6" lng="-73.8" zoom="9" layers="google_satellite,osm_mapnik" init-js="Split_map.init(&#39;leaflet_sidebyside&#39;);" leftmap="google_satellite" rightmap="osm_mapnik">
        
        
        
        
        
            <div><h1 id="slide">slide&hellip;</h1>
</div>
        
        
    <div></div>
    
</section>

    
    

    
        



<section class='status left-content left-wide'  data-scene="status" lat="45.6" lng="-73.2" zoom="10" layers="" init-js="Split_map.remove();" leftmap="" rightmap="">
        
            <h2>Status</h2>
        
        
        
        
        
            <div><h3 id="complete">Complete</h3>
<ul>
<li>Pass CSS styling using section classes</li>
<li>More story element layout options</li>
<li>Author content using Markdown instead of HTML</li>
<li>Switched to generate EN pages only, for now</li>
<li>Nested navigation</li>
</ul>
<h3 id="in-progress">In Progress</h3>
<ul>
<li>CSS styling</li>
<li>Improved leaflet integration
<ul>
<li>Rich (html/markdown) popups</li>
<li>Layer chooser</li>
<li>Raster compare
<ul>
<li>Implemented but:
<ul>
<li>Interaction handle is offset, need to correct css</li>
<li>Clearing the leaflet control object is awkward (code concern)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="planned">Planned</h3>
<ul>
<li>Credits page</li>
<li>People page</li>
<li>Data integrations</li>
<li>Help page/modal popup</li>
</ul>
<h3 id="use-case-needed">Use Case Needed</h3>
<ul>
<li>Additional Leaflet plugins (<a href="https://leafletjs.com/plugins.html">https://leafletjs.com/plugins.html</a>)</li>
<li>Interactive figures (<a href="https://plotly.com/javascript/">https://plotly.com/javascript/</a>)</li>
<li>Crosstalk between figures and map</li>
</ul>
<h3 id="would-be-nice">Would be Nice</h3>
<ul>
<li>Responsive (mobile friendly) layout</li>
</ul>
</div>
        
        
    <div></div>
    
</section>

    
    
</div>
	    </div>
	</div>
	</body>
</html>